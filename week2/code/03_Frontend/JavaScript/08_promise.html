// ğŸ”µ Create a basic promise that simulates a successful async task
let simplePromise = new Promise((resolve, reject) => {
  setTimeout(() => {
    resolve("âœ… Simple Promise Resolved");
  }, 1000);
});

// Use then() to get the result
simplePromise.then(result => {
  console.log(result);
});

// ğŸ”´ Create a promise that simulates an error
let errorPromise = new Promise((resolve, reject) => {
  setTimeout(() => {
    reject("âŒ Promise Rejected");
  }, 1500);
});

// Use catch() to handle errors
errorPromise
  .then(result => {
    console.log(result);
  })
  .catch(error => {
    console.log(error);
  })
  .finally(() => {
    console.log("ğŸŸ¡ Finished errorPromise execution");
  });

// ğŸ” Promise chaining â€“ output flows from one then to the next
new Promise((resolve, reject) => {
  resolve(10);
})
  .then(num => {
    console.log("1ï¸âƒ£ First value:", num);
    return num * 2;
  })
  .then(num => {
    console.log("2ï¸âƒ£ Second value:", num);
    return num + 5;
  })
  .then(result => {
    console.log("3ï¸âƒ£ Final Result:", result);
  });

// ğŸ§© Using Promise.all â€“ runs all and waits for all to complete
let p1 = new Promise(resolve => setTimeout(() => resolve("ğŸ Apple"), 1000));
let p2 = new Promise(resolve => setTimeout(() => resolve("ğŸŒ Banana"), 1500));
let p3 = new Promise(resolve => setTimeout(() => resolve("ğŸ‡ Grape"), 500));

Promise.all([p1, p2, p3]).then(values => {
  console.log("âœ… Promise.all resolved:", values); // All resolved
});

// âš¡ Promise.race â€“ only the fastest wins
Promise.race([p1, p2, p3]).then(fastest => {
  console.log("âš¡ Promise.race winner:", fastest); // Grape (500ms)
});

// ğŸŸ£ Promise.allSettled â€“ waits for all, regardless of resolve or reject
let p4 = new Promise((_, reject) => setTimeout(() => reject("âŒ Failed"), 1200));

Promise.allSettled([p1, p4]).then(results => {
  console.log("ğŸŸ£ Promise.allSettled:", results);
});

// ğŸŸ¢ Promise.any â€“ returns first successful result (ignores failures)
let fail1 = new Promise((_, reject) => setTimeout(() => reject("âŒ One"), 400));
let pass1 = new Promise(resolve => setTimeout(() => resolve("âœ… Passed"), 800));

Promise.any([fail1, pass1]).then(result => {
  console.log("ğŸŸ¢ Promise.any resolved:", result);
});

// ğŸŒ™ Async/Await â€“ modern clean syntax to work with promises
async function fetchData() {
  try {
    let value = await new Promise((resolve) =>
      setTimeout(() => resolve("ğŸŒ Async/Await works!"), 1000)
    );
    console.log(value);
  } catch (err) {
    console.log("Caught error:", err);
  } finally {
    console.log("âœ¨ Async function finished");
  }
}

fetchData();
